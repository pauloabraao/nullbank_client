{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/abraao/Desktop/nullbank_client/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import axios from\"axios\";import React,{useEffect,useRef}from\"react\";import styled from\"styled-components\";import{toast}from\"react-toastify\";import ButtonFormTable from\"../ButtonFormTables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FormContainer=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: flex-end;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n  background-color: #fff;\\n  padding: 20px;\\n  box-shadow: 0px 0px 5px #ccc;\\n  border-radius: 5px;\\n\"])));const InputArea=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));const Input=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 120px;\\n  padding: 0 10px;\\n  border: 1px solid #bbb;\\n  border-radius: 5px;\\n  height: 40px;\\n\"])));const Label=styled.label(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));// const Button = styled.button`\n//   padding: 10px;\n//   cursor: pointer;\n//   border-radius: 5px;\n//   border: none;\n//   background-color: #2c73d2;\n//   color: white;\n//   height: 42px;\n// `;\nconst Form=_ref=>{let{getUsers,onEdit,setOnEdit}=_ref;const ref=useRef();useEffect(()=>{if(onEdit){const transacoes=ref.current;transacoes.numero_transacao.value=onEdit.numero_transacao;transacoes.tipo.value=onEdit.tipo;const formattedDateTime=new Date(onEdit.data_hora).toISOString().replace(/T/,' ').replace(/\\..+/,'');transacoes.data_hora.value=formattedDateTime;transacoes.valor.value=onEdit.valor;transacoes.conta_principal.value=onEdit.conta_principal;transacoes.conta_transacao.value=onEdit.conta_transacao;}},[onEdit]);const handleSubmit=async e=>{e.preventDefault();const transacoes=ref.current;if(!transacoes.numero_transacao.value||!transacoes.tipo.value||!transacoes.data_hora.value||!transacoes.valor.value||!transacoes.conta_principal.value||!transacoes.conta_transacao.value){return toast.warn(\"Preencha todos os campos!\");}if(onEdit){await axios.put(\"http://localhost:8800/transacoes/\"+onEdit.numero_transacao,{numero_transacao:transacoes.numero_transacao.value,tipo:transacoes.tipo.value,data_hora:transacoes.data_hora.value,valor:transacoes.valor.value,conta_principal:transacoes.conta_principal.value,conta_transacao:transacoes.conta_transacao.value}).then(_ref2=>{let{data}=_ref2;return toast.success(data);}).catch(_ref3=>{let{data}=_ref3;return toast.error(data);});}else{await axios.post(\"http://localhost:8800/transacoes/\",{numero_transacao:transacoes.numero_transacao.value,tipo:transacoes.tipo.value,data_hora:transacoes.data_hora.value,valor:transacoes.valor.value,conta_principal:transacoes.conta_principal.value,conta_transacao:transacoes.conta_transacao.value}).then(_ref4=>{let{data}=_ref4;return toast.success(data);}).catch(_ref5=>{let{data}=_ref5;return toast.error(data);});}transacoes.numero_transacao.value=\"\";transacoes.tipo.value=\"\";transacoes.data_hora.value=\"\";transacoes.valor.value=\"\";transacoes.conta_principal.value=\"\";transacoes.conta_transacao.value=\"\";setOnEdit(null);getUsers();};return/*#__PURE__*/_jsxs(FormContainer,{ref:ref,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"N\\xFAmero\"}),/*#__PURE__*/_jsx(Input,{name:\"numero_transacao\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Tipo\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"tipo\",className:\"h-10 w-28 outline-none border border-zinc-800 rounded-2\",children:[/*#__PURE__*/_jsx(\"option\",{value:''}),/*#__PURE__*/_jsx(\"option\",{value:'Transferência',children:\"Transfer\\xEAncia\"}),/*#__PURE__*/_jsx(\"option\",{value:'Estorno',children:\"Estorno\"}),/*#__PURE__*/_jsx(\"option\",{value:'Pagamento',children:\"Pagamento\"}),/*#__PURE__*/_jsx(\"option\",{value:'Saque',children:\"Saque\"})]})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Data Hora\"}),/*#__PURE__*/_jsx(Input,{name:\"data_hora\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Valor\"}),/*#__PURE__*/_jsx(Input,{name:\"valor\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Conta Principal\"}),/*#__PURE__*/_jsx(Input,{name:\"conta_principal\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Conta Transacao\"}),/*#__PURE__*/_jsx(Input,{name:\"conta_transacao\"})]}),/*#__PURE__*/_jsx(ButtonFormTable,{})]});};export default Form;","map":{"version":3,"names":["axios","React","useEffect","useRef","styled","toast","ButtonFormTable","jsx","_jsx","jsxs","_jsxs","FormContainer","form","_templateObject","_taggedTemplateLiteral","InputArea","div","_templateObject2","Input","input","_templateObject3","Label","label","_templateObject4","Form","_ref","getUsers","onEdit","setOnEdit","ref","transacoes","current","numero_transacao","value","tipo","formattedDateTime","Date","data_hora","toISOString","replace","valor","conta_principal","conta_transacao","handleSubmit","e","preventDefault","warn","put","then","_ref2","data","success","catch","_ref3","error","post","_ref4","_ref5","onSubmit","children","name","className"],"sources":["/home/abraao/Desktop/nullbank_client/client/src/componentes/transacoes/FormsTrans.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { toast } from \"react-toastify\";\nimport ButtonFormTable from \"../ButtonFormTables\";\n\nconst FormContainer = styled.form`\n  display: flex;\n  align-items: flex-end;\n  gap: 10px;\n  flex-wrap: wrap;\n  background-color: #fff;\n  padding: 20px;\n  box-shadow: 0px 0px 5px #ccc;\n  border-radius: 5px;\n`;\n\nconst InputArea = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Input = styled.input`\n  width: 120px;\n  padding: 0 10px;\n  border: 1px solid #bbb;\n  border-radius: 5px;\n  height: 40px;\n`;\n\nconst Label = styled.label``;\n\n// const Button = styled.button`\n//   padding: 10px;\n//   cursor: pointer;\n//   border-radius: 5px;\n//   border: none;\n//   background-color: #2c73d2;\n//   color: white;\n//   height: 42px;\n// `;\n\nconst Form = ({ getUsers, onEdit, setOnEdit }) => {\n\n  const ref = useRef();\n\n  useEffect(() => {\n    if (onEdit) {\n      const transacoes = ref.current;\n\n      transacoes.numero_transacao.value = onEdit.numero_transacao;\n      transacoes.tipo.value = onEdit.tipo;\n      \n      const formattedDateTime = new Date(onEdit.data_hora).toISOString().replace(/T/, ' ').replace(/\\..+/, '');\n      transacoes.data_hora.value = formattedDateTime;\n\n      transacoes.valor.value = onEdit.valor;\n      transacoes.conta_principal.value = onEdit.conta_principal;\n      transacoes.conta_transacao.value = onEdit.conta_transacao;\n      \n    }\n  }, [onEdit]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const transacoes = ref.current;\n\n    if (\n      !transacoes.numero_transacao.value  ||\n      !transacoes.tipo.value  ||\n      !transacoes.data_hora.value ||\n      !transacoes.valor.value ||\n      !transacoes.conta_principal.value ||\n      !transacoes.conta_transacao.value\n      \n    ) {\n      return toast.warn(\"Preencha todos os campos!\");\n    }\n\n    if (onEdit) {\n      await axios\n        .put(\"http://localhost:8800/transacoes/\" + onEdit.numero_transacao, {\n          numero_transacao: transacoes.numero_transacao.value,\n          tipo: transacoes.tipo.value,\n          data_hora: transacoes.data_hora.value,\n          valor: transacoes.valor.value,\n          conta_principal: transacoes.conta_principal.value,\n          conta_transacao: transacoes.conta_transacao.value,\n          \n        })\n        .then(({ data }) => toast.success(data))\n        .catch(({ data }) => toast.error(data));\n    } else {\n      await axios\n        .post(\"http://localhost:8800/transacoes/\", {\n          numero_transacao: transacoes.numero_transacao.value,\n          tipo: transacoes.tipo.value,\n          data_hora: transacoes.data_hora.value,\n          valor: transacoes.valor.value,\n          conta_principal: transacoes.conta_principal.value,\n          conta_transacao: transacoes.conta_transacao.value,\n        })\n        .then(({ data }) => toast.success(data))\n        .catch(({ data }) => toast.error(data));\n    }\n\n\n    transacoes.numero_transacao.value = \"\";\n    transacoes.tipo.value = \"\";\n    transacoes.data_hora.value = \"\";\n    transacoes.valor.value = \"\";\n    transacoes.conta_principal.value = \"\";\n    transacoes.conta_transacao.value = \"\";\n    \n\n    setOnEdit(null);\n    getUsers();\n  };\n\n  return (\n    <FormContainer ref={ref} onSubmit={handleSubmit}>\n      <InputArea>\n        <Label>Número</Label>\n        <Input name=\"numero_transacao\" />\n      </InputArea>\n      <InputArea>\n        <Label>Tipo</Label>\n        <select name=\"tipo\" className=\"h-10 w-28 outline-none border border-zinc-800 rounded-2\">\n          <option value={''}></option>\n          <option value={'Transferência'}>Transferência</option>\n          <option value={'Estorno'}>Estorno</option>\n          <option value={'Pagamento'}>Pagamento</option>\n          <option value={'Saque'}>Saque</option>\n        </select>\n      </InputArea>\n      <InputArea>\n        <Label>Data Hora</Label>\n        <Input name=\"data_hora\" />\n      </InputArea>\n      <InputArea>\n        <Label>Valor</Label>\n        <Input name=\"valor\"/>\n      </InputArea>\n      <InputArea>\n        <Label>Conta Principal</Label>\n        <Input name=\"conta_principal\"/>\n      </InputArea>\n      <InputArea>\n        <Label>Conta Transacao</Label>\n        <Input name=\"conta_transacao\"/>\n      </InputArea>\n      <ButtonFormTable/>\n    </FormContainer>\n  );\n};\n\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
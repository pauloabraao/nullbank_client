{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/abraao/Desktop/nullbank_client/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import axios from\"axios\";import React,{useEffect,useRef}from\"react\";import styled from\"styled-components\";import{toast}from\"react-toastify\";import ButtonFormTable from\"../ButtonFormTables\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FormContainer=styled.form(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: flex;\\n  align-items: flex-end;\\n  gap: 10px;\\n  flex-wrap: wrap;\\n  background-color: #fff;\\n  padding: 20px;\\n  box-shadow: 0px 0px 5px #ccc;\\n  border-radius: 5px;\\n  width: 100%;\\n\"])));const InputArea=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n\"])));const Input=styled.input(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 120px;\\n  padding: 0 10px;\\n  border: 1px solid #bbb;\\n  border-radius: 5px;\\n  height: 40px;\\n\"])));const Label=styled.label(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\"])));const Form=_ref=>{let{getUsers,onEdit,setOnEdit}=_ref;const ref=useRef();useEffect(()=>{if(onEdit){const agency=ref.current;agency.numero.value=onEdit.numero;agency.nome.value=onEdit.nome;agency.salario_total_montante.value=onEdit.salario_total_montante;agency.cidade.value=onEdit.cidade;}},[onEdit]);const handleSubmit=async e=>{e.preventDefault();const agency=ref.current;if(!agency.numero.value||!agency.nome.value||!agency.salario_total_montante.value||!agency.cidade.value){return toast.warn(\"Preencha todos os campos!\");}if(onEdit){await axios.put(\"http://localhost:8800/\"+onEdit.numero,{numero:agency.numero.value,nome:agency.nome.value,salario_total_montante:agency.salario_total_montante.value,cidade:agency.cidade.value}).then(_ref2=>{let{data}=_ref2;return toast.success(data);}).catch(_ref3=>{let{data}=_ref3;return toast.error(data);});}else{await axios.post(\"http://localhost:8800\",{numero:agency.numero.value,nome:agency.nome.value,salario_total_montante:agency.salario_total_montante.value,cidade:agency.cidade.value}).then(_ref4=>{let{data}=_ref4;return toast.success(data);}).catch(_ref5=>{let{data}=_ref5;return toast.error(data);});}agency.numero.value=\"\";agency.nome.value=\"\";agency.salario_total_montante.value=\"\";agency.cidade.value=\"\";setOnEdit(null);getUsers();};return/*#__PURE__*/_jsxs(FormContainer,{ref:ref,onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Numero\"}),/*#__PURE__*/_jsx(Input,{name:\"numero\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Nome\"}),/*#__PURE__*/_jsx(Input,{name:\"nome\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Salario Montante\"}),/*#__PURE__*/_jsx(Input,{name:\"salario_total_montante\"})]}),/*#__PURE__*/_jsxs(InputArea,{children:[/*#__PURE__*/_jsx(Label,{children:\"Cidade\"}),/*#__PURE__*/_jsx(Input,{name:\"cidade\"})]}),/*#__PURE__*/_jsx(ButtonFormTable,{})]});};export default Form;","map":{"version":3,"names":["axios","React","useEffect","useRef","styled","toast","ButtonFormTable","jsx","_jsx","jsxs","_jsxs","FormContainer","form","_templateObject","_taggedTemplateLiteral","InputArea","div","_templateObject2","Input","input","_templateObject3","Label","label","_templateObject4","Form","_ref","getUsers","onEdit","setOnEdit","ref","agency","current","numero","value","nome","salario_total_montante","cidade","handleSubmit","e","preventDefault","warn","put","then","_ref2","data","success","catch","_ref3","error","post","_ref4","_ref5","onSubmit","children","name"],"sources":["/home/abraao/Desktop/nullbank_client/client/src/componentes/agency/FormsAgency.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { toast } from \"react-toastify\";\nimport ButtonFormTable from \"../ButtonFormTables\";\n\nconst FormContainer = styled.form`\n  display: flex;\n  align-items: flex-end;\n  gap: 10px;\n  flex-wrap: wrap;\n  background-color: #fff;\n  padding: 20px;\n  box-shadow: 0px 0px 5px #ccc;\n  border-radius: 5px;\n  width: 100%;\n`;\n\nconst InputArea = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst Input = styled.input`\n  width: 120px;\n  padding: 0 10px;\n  border: 1px solid #bbb;\n  border-radius: 5px;\n  height: 40px;\n`;\n\nconst Label = styled.label``;\n\nconst Form = ({ getUsers, onEdit, setOnEdit }) => {\n\n  const ref = useRef();\n\n  useEffect(() => {\n    if (onEdit) {\n      const agency = ref.current;\n\n      agency.numero.value = onEdit.numero;\n      agency.nome.value = onEdit.nome;\n      agency.salario_total_montante.value = onEdit.salario_total_montante;\n      agency.cidade.value = onEdit.cidade;\n    }\n  }, [onEdit]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const agency = ref.current;\n\n    if (\n      !agency.numero.value ||\n      !agency.nome.value ||\n      !agency.salario_total_montante.value ||\n      !agency.cidade.value\n    ) {\n      return toast.warn(\"Preencha todos os campos!\");\n    }\n\n    if (onEdit) {\n      await axios\n        .put(\"http://localhost:8800/\" + onEdit.numero, {\n          numero: agency.numero.value,\n          nome: agency.nome.value,\n          salario_total_montante: agency.salario_total_montante.value,\n          cidade: agency.cidade.value,\n        })\n        .then(({ data }) => toast.success(data))\n        .catch(({ data }) => toast.error(data));\n    } else {\n      await axios\n        .post(\"http://localhost:8800\", {\n          numero: agency.numero.value,\n          nome: agency.nome.value,\n          salario_total_montante: agency.salario_total_montante.value,\n          cidade: agency.cidade.value,\n        })\n        .then(({ data }) => toast.success(data))\n        .catch(({ data }) => toast.error(data));\n    }\n\n    agency.numero.value = \"\";\n    agency.nome.value = \"\";\n    agency.salario_total_montante.value= \"\";\n    agency.cidade.value = \"\";\n\n    setOnEdit(null);\n    getUsers();\n  };\n\n  return (\n      <FormContainer ref={ref} onSubmit={handleSubmit}>\n        <InputArea>\n          <Label>Numero</Label>\n          <Input name=\"numero\" />\n        </InputArea>\n        <InputArea>\n          <Label>Nome</Label>\n          <Input name=\"nome\" />\n        </InputArea>\n        <InputArea>\n          <Label>Salario Montante</Label>\n          <Input name=\"salario_total_montante\" />\n        </InputArea>\n        <InputArea>\n          <Label>Cidade</Label>\n          <Input name=\"cidade\"/>\n        </InputArea>\n        <ButtonFormTable/>\n      </FormContainer>\n  );\n};\n\nexport default Form;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
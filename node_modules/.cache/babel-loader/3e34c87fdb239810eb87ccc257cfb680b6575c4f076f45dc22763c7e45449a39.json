{"ast":null,"code":"import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import{useForm}from\"react-hook-form\";import{z}from'zod';import{zodResolver}from'@hookform/resolvers/zod';import{useNavigate}from\"react-router-dom\";import useLoginContext from\"../../hooks/useLoginContext\";// Importando componentes:\nimport InputBorderBottom from\"../../componentes/InputBorderBottom\";import ButtonWithIcon from\"../../componentes/ButtonWithIcon\";import ErrorMessage from\"../../componentes/ErrorMessage\";// importando icones:\nimport{seta}from'../../icons/icones';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const loginAcessSchema=z.object({key:z.string(),password:z.string().min(4,{message:'Minimo 4 caracteres'})}).refine(data=>data.cpf!==undefined||data.password!==undefined,{message:'Campo obrigatório'});export default function SignIn(){var _errors$key,_errors$password;const{autenticarTipoUsuario}=useLoginContext();const[tipoUsuario,setTipoUsuario]=useState('dba');const irPara=useNavigate();const fundo={backgroundImage:\"url('https://media.istockphoto.com/id/1442295199/pt/foto/successful-financier-investor-works-inside-office-at-work-businessman-in-business-suit-uses.jpg?s=1024x1024&w=is&k=20&c=0SNAhOhTTARN8a85GRk9AtNgl5dF0RFK7NvvZhNGEw8=')\"};const{register,handleSubmit,formState:{errors}}=useForm({resolver:zodResolver(loginAcessSchema)});// Verifica se é um usuário válido e envia para a rota correta:\nconst onSubmit=data=>{let hasPermission=autenticarTipoUsuario(data,tipoUsuario);setTimeout(()=>{if(tipoUsuario==='dba'&&hasPermission)irPara('/admin');else if(tipoUsuario==='funcionario'&&hasPermission)irPara('/funcionario');else if(tipoUsuario==='cliente'&&hasPermission)irPara('/home');else irPara('/');},2000);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row items-center w-full\",children:[/*#__PURE__*/_jsx(\"div\",{style:fundo,className:\"w-[50%] h-screen bg-left bg-auto\",children:/*#__PURE__*/_jsx(Link,{to:'/',className:\"text-center text-2xl text-zinc-100 font-bold absolute left-3 top-2 no-underline hover:text-cyan-800\",children:\"NullBank\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"h-screen w-[50%] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-[88%] h-[80%] flex flex-col p-10 items-center self-center justify-center gap-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-3xl font-semibold self-start ml-[13%] mb-3\",children:tipoUsuario==='funcionario'?'Seja bem-vindo Funcionário':tipoUsuario==='cliente'?'Acesse sua conta':'Seja bem-vindo Administrador'}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:\"flex flex-col w-[75%] h-[50%] border-solid border-red-500 gap-y-6\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"self-start text-sm\",children:tipoUsuario==='funcionario'?'Matrícula':tipoUsuario==='cliente'?'CPF':'Usuário'}),/*#__PURE__*/_jsx(InputBorderBottom,{width:'full',register:register,label:'key'}),errors.key&&/*#__PURE__*/_jsx(ErrorMessage,{message:(_errors$key=errors.key)===null||_errors$key===void 0?void 0:_errors$key.message}),/*#__PURE__*/_jsx(\"span\",{className:\"self-start text-sm mt-4\",children:\"Senha\"}),/*#__PURE__*/_jsx(InputBorderBottom,{width:'full',type:'password',register:register,label:'password'}),errors.cpf&&/*#__PURE__*/_jsx(ErrorMessage,{message:(_errors$password=errors.password)===null||_errors$password===void 0?void 0:_errors$password.message}),/*#__PURE__*/_jsx(ButtonWithIcon,{width:'[90%]',route:'/home',content:'Entrar',icon:seta})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-zinc-200 flex flex-row items-center justify-around w-full h-[20%]\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\",onClick:()=>{setTipoUsuario('funcionario');},children:\"Sou funcion\\xE1rio\"}),/*#__PURE__*/_jsx(\"button\",{className:\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\",onClick:()=>{setTipoUsuario('cliente');},children:\"Sou Cliente\"}),/*#__PURE__*/_jsx(\"button\",{className:\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\",onClick:()=>{setTipoUsuario('dba');},children:\"Sou DBA\"})]})]})]});}","map":{"version":3,"names":["React","useState","Link","useForm","z","zodResolver","useNavigate","useLoginContext","InputBorderBottom","ButtonWithIcon","ErrorMessage","seta","jsx","_jsx","jsxs","_jsxs","loginAcessSchema","object","key","string","password","min","message","refine","data","cpf","undefined","SignIn","_errors$key","_errors$password","autenticarTipoUsuario","tipoUsuario","setTipoUsuario","irPara","fundo","backgroundImage","register","handleSubmit","formState","errors","resolver","onSubmit","hasPermission","setTimeout","className","children","style","to","width","label","type","route","content","icon","onClick"],"sources":["/home/abraao/Desktop/nullbank_client/client/src/pages/paginas_iniciais/SignIn.jsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { useForm } from \"react-hook-form\";\nimport { z } from 'zod'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { useNavigate } from \"react-router-dom\";\nimport useLoginContext from \"../../hooks/useLoginContext\";\n// Importando componentes:\nimport InputBorderBottom from \"../../componentes/InputBorderBottom\";\nimport ButtonWithIcon from \"../../componentes/ButtonWithIcon\";\nimport ErrorMessage from \"../../componentes/ErrorMessage\";\n// importando icones:\nimport { seta } from '../../icons/icones'\n\nconst loginAcessSchema = z.object({\n    key: z.string(),\n    password: z.string().min(4, {message: 'Minimo 4 caracteres'})\n}).refine(data => data.cpf !== undefined || data.password !== undefined, {\n    message: 'Campo obrigatório'\n})\n\nexport default function SignIn(){\n    const { autenticarTipoUsuario } = useLoginContext()\n    const [tipoUsuario, setTipoUsuario] = useState('dba')\n    const irPara = useNavigate()\n    const fundo = {\n        backgroundImage: \"url('https://media.istockphoto.com/id/1442295199/pt/foto/successful-financier-investor-works-inside-office-at-work-businessman-in-business-suit-uses.jpg?s=1024x1024&w=is&k=20&c=0SNAhOhTTARN8a85GRk9AtNgl5dF0RFK7NvvZhNGEw8=')\"\n    }\n    const { register, handleSubmit, formState: { errors } } = useForm({\n        resolver: zodResolver(loginAcessSchema)\n    })\n    // Verifica se é um usuário válido e envia para a rota correta:\n    const onSubmit = (data)=>{\n        let hasPermission = autenticarTipoUsuario(data, tipoUsuario)\n        setTimeout(()=>{\n            if(tipoUsuario === 'dba' && hasPermission)\n                irPara('/admin')\n            else if(tipoUsuario === 'funcionario' && hasPermission)\n                irPara('/funcionario')\n            else if(tipoUsuario === 'cliente' && hasPermission)\n                irPara('/home')\n            else\n                irPara('/')\n        },2000)\n    }\n    return(\n        <div className=\"flex flex-row items-center w-full\">\n            <div style={fundo}\n            className=\"w-[50%] h-screen bg-left bg-auto\"\n            >\n                <Link to={'/'} className=\"text-center text-2xl text-zinc-100 font-bold absolute left-3 top-2 no-underline hover:text-cyan-800\">NullBank</Link>\n            </div>\n            <div className=\"h-screen w-[50%] flex flex-col\">\n                <div className=\"w-[88%] h-[80%] flex flex-col p-10 items-center self-center justify-center gap-2\">\n                    <span className=\"text-3xl font-semibold self-start ml-[13%] mb-3\">\n                        {(tipoUsuario === 'funcionario') ? 'Seja bem-vindo Funcionário' : (tipoUsuario === 'cliente') ? \n                        'Acesse sua conta' : 'Seja bem-vindo Administrador'}\n                    </span>\n                    <form onSubmit={handleSubmit(onSubmit)} className=\"flex flex-col w-[75%] h-[50%] border-solid border-red-500 gap-y-6\">\n                        <span className=\"self-start text-sm\">\n                        {(tipoUsuario === 'funcionario') ? 'Matrícula' : (tipoUsuario === 'cliente') ? \n                        'CPF' : 'Usuário'}\n                        </span>\n                        <InputBorderBottom width={'full'} register={register} label={'key'}/>\n                        {errors.key && <ErrorMessage message={errors.key?.message}/>}\n                        <span className=\"self-start text-sm mt-4\">Senha</span>\n                        <InputBorderBottom width={'full'} type={'password'} register={register} label={'password'} />\n                        {errors.cpf && <ErrorMessage message={errors.password?.message}/>}\n                        <ButtonWithIcon width={'[90%]'} route={'/home'} content={'Entrar'} icon={seta}/>\n                    </form>\n                </div>\n                <div className=\"bg-zinc-200 flex flex-row items-center justify-around w-full h-[20%]\">\n                    <button className=\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\" onClick={()=>{setTipoUsuario('funcionario')}}>Sou funcionário</button>\n                    <button className=\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\" onClick={()=>{setTipoUsuario('cliente')}}>Sou Cliente</button>\n                    <button className=\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\" onClick={()=>{setTipoUsuario('dba')}}>Sou DBA</button>\n                    {/* <Link to={'/'} className=\"no-underline font-semibold text-sm text-cyan-600 hover:text-cyan-500\">Não sou cliente</Link> */}\n                </div>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}
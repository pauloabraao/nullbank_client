{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/abraao/Desktop/nullbank_client/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2;import styled from\"styled-components\";import{toast,ToastContainer}from\"react-toastify\";import GlobalStyle from\"../../styles/global\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";// import styled from \"styled-components\";\nimport\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Container=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: auto;\\n  max-width: 800px;\\n  margin-top: 20px;\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  gap: 10px;\\n\"])));const Title=styled.h2(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\"])));function AtendenteConta(){const[users,setUsers]=useState([]);const[onEdit,setOnEdit]=useState(null);const getUsers=async()=>{try{const matriculaAtendente='00006';// Fetch funcionarios data\nconst funcionariosResponse=await axios.get(\"http://localhost:8800/func/\");const funcionariosData=funcionariosResponse.data;// Fetch contas data\nconst contasResponse=await axios.get(\"http://localhost:8800/contas/\");const contasData=contasResponse.data;// Find the funcionario with the specified matriculaAtendente\nconst atendente=funcionariosData.find(funcionario=>funcionario.mat===matriculaAtendente);// Filter contas based on num_agencia matching agencia of the atendente\nconst contasDoAtendente=contasData.filter(conta=>conta.num_agencia===atendente.agencia);// Now contasDoAtendente contains all accounts with the same agencia as the atendente\nsetUsers(contasDoAtendente);}catch(error){toast.error(error);}};useEffect(()=>{getUsers();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Title,{children:\"Atendente - Contas\"}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped text-center\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"sticky top-12\",children:/*#__PURE__*/_jsxs(\"tr\",{className:\"table-light\",children:[/*#__PURE__*/_jsx(\"th\",{className:\"table-light\",children:\"Numero\"}),/*#__PURE__*/_jsx(\"th\",{className:\"table-light\",children:\"Saldo\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map((item,i)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"table-light\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"table-light\",children:item.numero}),/*#__PURE__*/_jsxs(\"td\",{className:\"table-light\",children:[item.saldo,\" \"]})]},i))})]})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:3000,position:toast.POSITION.BOTTOM_LEFT}),/*#__PURE__*/_jsx(GlobalStyle,{})]});}export default AtendenteConta;","map":{"version":3,"names":["styled","toast","ToastContainer","GlobalStyle","React","useEffect","useState","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Container","div","_templateObject","_taggedTemplateLiteral","Title","h2","_templateObject2","AtendenteConta","users","setUsers","onEdit","setOnEdit","getUsers","matriculaAtendente","funcionariosResponse","get","funcionariosData","data","contasResponse","contasData","atendente","find","funcionario","mat","contasDoAtendente","filter","conta","num_agencia","agencia","error","children","className","map","item","i","numero","saldo","autoClose","position","POSITION","BOTTOM_LEFT"],"sources":["/home/abraao/Desktop/nullbank_client/client/src/pages/paginas_func/AtendenteContas.jsx"],"sourcesContent":["\nimport styled from \"styled-components\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport GlobalStyle from \"../../styles/global\";\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n// import styled from \"styled-components\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\n\n\nconst Container = styled.div`\n  width: auto;\n  max-width: 800px;\n  margin-top: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  gap: 10px;\n`;\n\nconst Title = styled.h2``;\n\nfunction AtendenteConta() {\n    const [users, setUsers] = useState([]);\n    const [onEdit, setOnEdit] = useState(null);\n  \n    const getUsers = async () => {\n      try {\n        const matriculaAtendente = '00006';\n\n        // Fetch funcionarios data\n        const funcionariosResponse = await axios.get(\"http://localhost:8800/func/\");\n        const funcionariosData = funcionariosResponse.data;\n\n        // Fetch contas data\n        const contasResponse = await axios.get(\"http://localhost:8800/contas/\");\n        const contasData = contasResponse.data;\n\n        // Find the funcionario with the specified matriculaAtendente\n        const atendente = funcionariosData.find(funcionario => funcionario.mat === matriculaAtendente);\n\n        \n        // Filter contas based on num_agencia matching agencia of the atendente\n        const contasDoAtendente = contasData.filter(conta => conta.num_agencia === atendente.agencia);\n\n        // Now contasDoAtendente contains all accounts with the same agencia as the atendente\n        setUsers(contasDoAtendente);\n        \n      } catch (error) {\n        toast.error(error);\n      }\n    };\n  \n    useEffect(() => {\n      getUsers();\n    }, []); \n\n  return (\n    <>\n      <Container>\n        <Title>Atendente - Contas</Title>\n        <table className=\"table table-striped text-center\">\n      <thead className=\"sticky top-12\">\n        <tr className=\"table-light\">\n          <th className=\"table-light\">Numero</th>\n          <th className=\"table-light\">Saldo</th>\n        </tr>\n      </thead>\n      <tbody>\n        {users.map((item, i) => (\n          <tr className=\"table-light\" key={i}>\n            <td className=\"table-light\">{item.numero}</td>\n            <td className=\"table-light\">{item.saldo} </td>\n\n          </tr>\n        ))}\n      </tbody>\n    </table>\n      </Container>\n      <ToastContainer autoClose={3000} position={toast.POSITION.BOTTOM_LEFT} />\n      <GlobalStyle />\n    </>\n  );\n}\n\nexport default AtendenteConta;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}